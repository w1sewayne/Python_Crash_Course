# 🐍 Python Chapter 6: 字典 (Dictionaries) 速查表

> **核心概念**：如果说列表 (List) 是按顺序排队的“学生队伍”，那么字典 (Dictionary) 就是一本精准的“通讯录”。我们不通过位置（索引）找人，而是通过**名字 (Key)** 直接找到**电话 (Value)**。

## 1. 基础操作 (Basics: CRUD)

**生活类比：** 就像在使用一本实体字典或手机联系人列表。

| 功能 | 英文关键字/语法 | 代码示例 | 备注/类比 |
| :--- | :--- | :--- | :--- |
| **创建字典** | `{ key: value }` | `alien = {'color': 'green', 'points': 5}` | **冒号不能丢！** 左边是键(名字)，右边是值(内容)。 |
| **访问值** | `[]` (Bracket) | `print(alien['color'])` | 必须用方括号+键名。如果键不存在会报错 (Crash)。 |
| **安全访问** | `.get()` | `alien.get('speed', 'No value')` | **安全气囊**。如果键不存在，不会报错，而是返回默认值。 |
| **添加/修改** | `dict[key] = val` | `alien['x_pos'] = 0` | 如果键存在=**修改**；如果键不存在=**添加**。 |
| **删除键值** | `del` | `del alien['points']` | 永久删除。就像把这页从字典里撕掉了。 |

---

## 2. 遍历字典 (Looping) [重难点!]

**生活类比：** 老板让你查账，有三种查法：查具体的**流水明细**、只查**有哪些客户**、或者只查**赚了多少钱**。

| 功能 | 方法 | 代码示例 | 关键点 |
| :--- | :--- | :--- | :--- |
| **遍历所有** | `.items()` | `for k, v in user.items():` | **最常用**。一次拿两个值 (键和值)，要用两个变量接住。 |
| **只查键** | `.keys()` | `for name in user.keys():` | 等同于 `for name in user:` (默认就是查键)。 |
| **只查值** | `.values()` | `for age in user.values():` | 只关心内容，不关心是谁的。**可能会有重复值**。 |
| **去重查值** | `set()` | `set(user.values())` | **去重神器**。把值扔进集合，重复的只要一个。 |

---

## 3. 嵌套 (Nesting) [烧脑区 🤯]

**核心区别：** 这一块最容易晕。想象你是数据管理员，要决定怎么打包数据。

| 结构名称 | 语法长相 | 典型场景 | 代码微操 |
| :--- | :--- | :--- | :--- |
| **列表套字典**<br>(List of Dicts) | `[{}, {}, {}]` | **用户列表**、外星人舰队、商品目录。 | `users[0]['name']`<br>(先找第几个人，再找他的名字) |
| **字典套列表**<br>(List in Dict) | `{'k': [1, 2]}` | **一个人有多个属性**。<br>如：每个人喜欢的 *多种* 披萨口味。 | `pizza['toppings'][0]`<br>(先找配料表，再找第一个配料) |
| **字典套字典**<br>(Dict in Dict) | `{'k': {'a': 1}}` | **复杂档案**。<br>如：网站的所有用户，每个用户又有详细地址信息。 | `users['aeinstein']['location']`<br>(这种结构尽量不要套太深，否则很难读) |

---

## 4. 易混淆点 & 常见坑 (Gotchas) ⚠️

* **字典 vs 集合 (Set)**
    * `{'a': 1, 'b': 2}` ➡️ 有冒号 ➡️ **字典 (Dict)**
    * `{'a', 'b', 'c'}` ➡️ 无冒号 ➡️ **集合 (Set)**
    * `{}` ➡️ 空的大括号 ➡️ 默认是 **空字典** (不是空集合，空集合要用 `set()`)。

* **KeyError**
    * 如果你写 `alien['speed']` 但字典里没有 `'speed'` 这个键，程序会直接崩溃。
    * **解决：** 使用 `.get('speed')` 或者先检查 `if 'speed' in alien:`。

* **顺序问题**
    * 在 Python 3.7 之前，字典是**无序**的 (乱序)。
    * 在 Python 3.7+ 之后，字典会**记住你插入的顺序**。但在逻辑上，最好还是把它当做“无序的查找表”来用。

---
> **💡 Kris 的学习总结**：
> 第 6 章是 Python 数据结构的转折点。掌握了 **List (列表)** 和 **Dict (字典)** 的相互嵌套，你就具备了处理现实世界复杂数据（如 Excel 表格、Web 数据）的能力。